import os
import random

def limpar_tela():
    """Limpa o terminal dependendo do sistema operacional."""
    if os.name == 'nt': # Windows
        os.system('cls')
    else: # Linux/Mac
        os.system('clear')

def jogo_adivinhacao():
    while True: # Loop Principal do Jogo (Rein√≠cio Seguro)
        limpar_tela()
        print("=== Jogo de Adivinha√ß√£o (1 a 50) ===")
        
        numero_secreto = random.randint(1, 50)
        tentativas_restantes = 3
        vitoria = False

        # Loop das Tentativas
        while tentativas_restantes > 0:
            print(f"\nTentativas restantes: {tentativas_restantes}")
            entrada = input("Digite seu palpite: ")

            # 1. Valida√ß√£o de Entrada com IF/ELSE (Evita erros de digita√ß√£o)
            if not entrada.isdigit():
                print("Erro: Por favor, digite apenas n√∫meros inteiros.")
                continue # Pula para o pr√≥ximo ciclo sem descontar tentativa (opcional)
            
            palpite = int(entrada)

            # 2. Valida√ß√£o de Intervalo com IF
            if palpite < 1 or palpite > 50:
                print("Aviso: O n√∫mero deve estar entre 1 e 50.")
                continue

            # 3. L√≥gica do Jogo com IF/ELIF/ELSE
            if palpite == numero_secreto:
                print(f"\nüéâ PARAB√âNS! Voc√™ acertou o n√∫mero {numero_secreto}!")
                vitoria = True
                break # Sai do loop de tentativas
            
            elif palpite > numero_secreto:
                print(f"-> O n√∫mero secreto √© MENOR que {palpite}.")
            
            else: # palpite < numero_secreto
                print(f"-> O n√∫mero secreto √© MAIOR que {palpite}.")
            
            # Decrementa apenas se o palpite foi v√°lido mas incorreto
            tentativas_restantes -= 1

        # 4. Checagem de Derrota com IF/ELSE (p√≥s-loop)
        if not vitoria:
            print(f"\nüíÄ GAME OVER! O n√∫mero era {numero_secreto}.")

        # 5. Decis√£o de Continuar
        print("-" * 30)
        comando = input("Pressione [Enter] para jogar novamente ou [S] para sair: ").lower()
        
        if comando == 's':
            print("Obrigado por jogar!")
            break # Quebra o loop principal (Encerra o programa)
        else:
            print("Reiniciando...")

if __name__ == "__main__":
    jogo_adivinhacao()
